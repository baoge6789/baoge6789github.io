<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>挪车二维码生成器</title>
    <script src="https://cdn.jsdelivr.net/npm/qrcodejs2"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        #qrcode { margin-top: 20px; }
        button { margin-top: 10px; }
    </style>
</head>
<body>

<h1>挪车二维码生成器</h1>
<label for="plate">车牌号:</label>
<input type="text" id="plate" placeholder="请输入车牌号"><br>
<label for="phone">手机号:</label>
<input type="text" id="phone" placeholder="请输入手机号"><br>
<button id="generate">生成二维码</button>

<div id="qrcode"></div>

<button id="download">下载二维码</button>
<button id="call">一键呼叫</button>
<button id="sms">发送短信通知</button>

<script>
document.getElementById('generate').onclick = function() {
    const plate = document.getElementById('plate').value;
    const phone = document.getElementById('phone').value;
    const content = `车牌号：${plate}，手机号：${phone}`;
    
    // 清空之前的二维码
    document.getElementById('qrcode').innerHTML = '';

    // 生成二维码
    const qrcode = new QRCode(document.getElementById("qrcode"), {
        text: content,
        width: 200,
        height: 200,
        colorDark : "#000000",
        colorLight : "#ffffff",
        correctLevel : QRCode.CorrectLevel.H
    });
};

document.getElementById('download').onclick = function() {
    const canvas = document.querySelector('#qrcode canvas');
    if (canvas) {
        const link = document.createElement('a');
        link.href = canvas.toDataURL('image/png');
        link.download = 'qrcode.png';
        link.click();
    } else {
        alert("请先生成二维码！");
    }
};

document.getElementById('call').onclick = function() {
    const phone = document.getElementById('phone').value;
    if (phone) {
        window.location.href = `tel:${phone}`;
    } else {
        alert("请先输入手机号！");
    }
};

document.getElementById('sms').onclick = function() {
    const phone = document.getElementById('phone').value;
    if (phone) {
        window.location.href = `sms:${phone}?body=请挪车，谢谢！`;
    } else {
        alert("请先输入手机号！");
    }
};
</script>

</body>
</html>
